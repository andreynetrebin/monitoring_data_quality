# Мониторинг качества данных состояния лицевых счетов

Проект мониторинга качества данных состояния лицевых счетов направлен на обеспечение целостности и актуальности данных
между мастер-системой и исторической системой. В рамках проекта реализованы следующие этапы, которые позволяют
извлекать, загружать и проверять данные о лицевых счетах.

## Содержание

- [Структура проекта](#структура-проекта)
- [Этапы проекта](#этапы-проекта)
- [Стек технологий](#стек-технологий)
- [Установка](#установка)
- [Использование](#использование)
- [Заключение](#заключение)
- [Лицензия](#лицензия)

## Структура проекта

```
monitoring_data_quality/
│
├── main.py                     # Главный файл для запуска приложения
├── config.py                   # Загрузка конфигурации
├── database/
│   ├── __init__.py             # Позволяет использовать папку как модуль
│   ├── db_connection.py         # Подключение к базам данных
│   ├── db_operations.py         # Операции с базами данных (запросы, вставки и т.д.)
│   ├── db_schema.py             # Определение схемы баз данных (создание таблиц и т.д.)
│   └── queries.py               # Запросы к базам данных
│
├── exporting_data/
│   ├── __init__.py
│   ├── csv_export.py            # Экспорт данных в CSV
│   └── report_export.py         # Экспорт отчетов
│
├── importing_data/
│   ├── __init__.py
│   ├── csv_import.py            # Импорт данных из CSV
│   └── data_loader.py           # Загрузка данных в базу
│
├── monitoring_data/
│   ├── __init__.py
│   ├── checks.py                # Проверки качества данных
│   └── dashboards.py            # Визуализация дашборда
│
├── utils/
│   ├── __init__.py
│   ├── logger.py                # Настройка логирования
│   └── file_utils.py            # Утилиты для работы с файлами
│
└── requirements.txt             # Зависимости проекта
```

## Этапы проекта

1. **Выгрузка данных из мастер-системы**
    - Выгрузка данных о лицевых счетах (открытых и закрытых) из базы мастер-системы на платформе Greenplum с
      использованием команды `COPY`.

2. **Загрузка данных в систему мониторинга**
    - Загрузка выгруженных данных в базу данных системы мониторинга на PostgreSQL с использованием команды `COPY`.

3. **Извлечение идентификаторов из базы мониторинга**
    - Извлечение идентификаторов лицевых счетов из базы мониторинга и сохранение их в CSV-файлы для дальнейшей проверки.

4. **Загрузка идентификаторов в историческую систему**
    - Загрузка идентификаторов в базу исторической системы на платформе Netezza с использованием импорта данных из
      внешнего CSV-файла.

5. **Выгрузка данных из исторической системы**
    - Выгрузка данных о состоянии лицевых счетов из исторической системы порциями с использованием внешней таблицы для
      экспорта данных в CSV-файлы

6. **Загрузка данных в систему мониторинга**
    - Загрузка выгруженных данных в базу данных системы мониторинга с использованием команды `COPY` для проведения
      проверок данных.

7. **Проведение проверок и формирование отчета**
    - Проведение проверок данных между системами и формирование отчетов с результатами, включая визуализацию на
      дашборде.

## Стек технологий

- **Python**: 3.8
- **PostgreSQL**: 9
- **Pandas**: для обработки данных
- **Dash**: для визуализации дашборда

## Установка

1. Убедитесь, что у вас установлен Python 3.8 и PostgreSQL 9.
2. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/andreynetrebin/monitoring_data_quality.git
   cd monitoring_data_quality
   ```
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
4. Настройте подключения к базам данных в config.ini.

## Использование

1. Выполните...
2. Сделать...

## Заключение

Проект мониторинга качества данных состояния лицевых счетов обеспечивает надежный механизм для проверки и актуализации
данных между мастер-системой и исторической системой. Реализованные этапы позволяют эффективно управлять данными и
обеспечивать их целостность.

## Лицензия

Этот проект лицензирован под лицензией MIT.
